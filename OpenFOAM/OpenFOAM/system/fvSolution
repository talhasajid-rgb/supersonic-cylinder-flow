/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |
| \\      /  F inite Volume | OpenFOAM: The Open Source CFD Toolbox
\*---------------------------------------------------------------------------*/

FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      fvSolution;
}

// =============================================================
//  DIAGONAL SOLVERS for INVISCID EULER EQUATIONS (Âµ=0)
// =============================================================

solvers
{
    // All variables use diagonal solver for hyperbolic/inviscid problems
    rho
    {
        solver          diagonal;
        tolerance       1e-8;
        relTol          0;
    }
    rhoFinal
    {
        solver          diagonal;
        tolerance       1e-10;
        relTol          0;
    }

    U
    {
        solver          diagonal;
        tolerance       1e-8;
        relTol          0;
    }
    UFinal
    {
        solver          diagonal;
        tolerance       1e-10;
        relTol          0;
    }

    T
    {
        solver          diagonal;
        tolerance       1e-8;
        relTol          0;
    }
    TFinal
    {
        solver          diagonal;
        tolerance       1e-10;
        relTol          0;
    }

    e
    {
        solver          diagonal;
        tolerance       1e-8;
        relTol          0;
    }
    eFinal
    {
        solver          diagonal;
        tolerance       1e-10;
        relTol          0;
    }

    p
    {
        solver          diagonal;
        tolerance       1e-8;
        relTol          0;
    }
    pFinal
    {
        solver          diagonal;
        tolerance       1e-10;
        relTol          0;
    }
}

// =============================================================
//  PIMPLE controls for INVISCID flow
// =============================================================

PIMPLE
{
    nCorrectors             2;        // Reduced from 3 (less needed for inviscid)
    nNonOrthogonalCorrectors 0;       // Set to 0 for inviscid
    momentumPredictor       yes;
    
    // Relax PIMPLE convergence for hyperbolic problems
    
}

// =============================================================
//  Relaxation factors - IMPORTANT FOR STABILITY
// =============================================================

relaxationFactors
{
    fields
    {
        p       0.3;      // Strong relaxation for pressure
    }

    equations
    {
        rho     0.3;
        U       0.3;      // Relax velocity more aggressively
        T       0.3;
        e       0.3;
    }
}

// ************************************************************************* //